(function(d){d.endPoint="https://api.litemint.com";d.validateToken=function(b,g){return new Promise(function(f,e){var c=new XMLHttpRequest;c.onreadystatechange=function(){if(4===c.readyState&&200===c.status){var a=JSON.parse(c.responseText);a.error?e("Invalid Token"):f(a)}};var a=b.substring(0,b.length-16);c.open("GET",d.endPoint+"/.auth/validatetoken?token="+b+"&purpose="+a+(g?"":"&type=weak"),!0);c.send(null)})};d.submitScore=function(b,g,f){return new Promise(function(e,c){var a=new XMLHttpRequest;
a.onreadystatechange=function(){if(4===a.readyState&&200===a.status){var b=JSON.parse(a.responseText);b.error?c("Invalid Request"):e(b)}};var h=b.substring(0,b.length-16);a.open("GET",d.endPoint+"/.auth/submitscore?token="+b+"&score="+g+"&purpose="+h+(f?"":"&type=weak"),!0);a.send(null)})};d.getToken=function(){var b=this;return new Promise(function(d,f){if(!b.token){a:{var e=decodeURIComponent(window.location.search.substring(1)).split("&");for(var c=0;c<e.length;c++){var a=e[c].split("=");if("token"===
a[0]){e=void 0===a[1]?!0:a[1];break a}}e=void 0}b.token=e}d(b.token)})};d.initialize=function(){parent&&parent.postMessage("litemint_app_ready","*")};d.close=function(){parent&&parent.postMessage("litemint_app_close","*")}})(window.Litemint=window.Litemint||{});