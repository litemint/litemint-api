(function(d){var g;d.endPoint="https://api.litemint.com";d.validateToken=function(a,h){return new Promise(function(f,e){var b=new XMLHttpRequest;b.onreadystatechange=function(){if(4===b.readyState&&200===b.status){var a=JSON.parse(b.responseText);a.error?e("Invalid Token"):f(a)}};var c=a.substring(0,a.length-16);b.open("GET",d.endPoint+"/.auth/validatetoken?token="+a+"&purpose="+c+(h?"":"&type=weak"),!0);b.send(null)})};d.submitScore=function(a,h,f){return new Promise(function(e,b){var c=new XMLHttpRequest;
c.onreadystatechange=function(){if(4===c.readyState&&200===c.status){var a=JSON.parse(c.responseText);a.error?b("Invalid Request"):e(a)}};var k=a.substring(0,a.length-16);c.open("GET",d.endPoint+"/.auth/submitscore?token="+a+"&score="+h+"&purpose="+k+(f?"":"&type=weak")+(g?"&key="+g:""),!0);c.send(null)})};d.getToken=function(){var a=this;return new Promise(function(d,f){if(!a.token){a:{var e=decodeURIComponent(window.location.search.substring(1)).split("&");for(var b=0;b<e.length;b++){var c=e[b].split("=");
if("token"===c[0]){e=void 0===c[1]?!0:c[1];break a}}e=void 0}a.token=e}d(a.token)})};d.initialize=function(a){g=a;parent&&parent.postMessage("litemint_app_ready","*")};d.close=function(){parent&&parent.postMessage("litemint_app_close","*")}})(window.Litemint=window.Litemint||{});